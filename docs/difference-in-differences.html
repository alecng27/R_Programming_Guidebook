<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>18 Difference-in-Differences | R Programming Guidebook Project</title>
  <meta name="description" content="18 Difference-in-Differences | R Programming Guidebook Project" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="18 Difference-in-Differences | R Programming Guidebook Project" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="18 Difference-in-Differences | R Programming Guidebook Project" />
  
  
  

<meta name="author" content="Alec Nguyen" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="fixed-effects.html"/>

<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>About</a></li>
<li class="part"><span><b>I DataCamp</b></span></li>
<li class="chapter" data-level="1" data-path="introduction-to-r.html"><a href="introduction-to-r.html"><i class="fa fa-check"></i><b>1</b> Introduction to R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="introduction-to-r.html"><a href="introduction-to-r.html#intro-to-basics"><i class="fa fa-check"></i><b>1.1</b> Intro to basics</a></li>
<li class="chapter" data-level="1.2" data-path="introduction-to-r.html"><a href="introduction-to-r.html#vectors"><i class="fa fa-check"></i><b>1.2</b> Vectors</a></li>
<li class="chapter" data-level="1.3" data-path="introduction-to-r.html"><a href="introduction-to-r.html#matrices"><i class="fa fa-check"></i><b>1.3</b> Matrices</a></li>
<li class="chapter" data-level="1.4" data-path="introduction-to-r.html"><a href="introduction-to-r.html#factors"><i class="fa fa-check"></i><b>1.4</b> Factors</a></li>
<li class="chapter" data-level="1.5" data-path="introduction-to-r.html"><a href="introduction-to-r.html#data-frames"><i class="fa fa-check"></i><b>1.5</b> Data frames</a></li>
<li class="chapter" data-level="1.6" data-path="introduction-to-r.html"><a href="introduction-to-r.html#lists"><i class="fa fa-check"></i><b>1.6</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="intermediate-r.html"><a href="intermediate-r.html"><i class="fa fa-check"></i><b>2</b> Intermediate R</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intermediate-r.html"><a href="intermediate-r.html#conditionals-and-control-flow"><i class="fa fa-check"></i><b>2.1</b> Conditionals And Control Flow</a></li>
<li class="chapter" data-level="2.2" data-path="intermediate-r.html"><a href="intermediate-r.html#loops"><i class="fa fa-check"></i><b>2.2</b> Loops</a></li>
<li class="chapter" data-level="2.3" data-path="intermediate-r.html"><a href="intermediate-r.html#functions"><i class="fa fa-check"></i><b>2.3</b> Functions</a></li>
<li class="chapter" data-level="2.4" data-path="intermediate-r.html"><a href="intermediate-r.html#the-apply-family"><i class="fa fa-check"></i><b>2.4</b> The apply family</a></li>
<li class="chapter" data-level="2.5" data-path="intermediate-r.html"><a href="intermediate-r.html#utilities"><i class="fa fa-check"></i><b>2.5</b> Utilities</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="intro-to-the-tidyverse.html"><a href="intro-to-the-tidyverse.html"><i class="fa fa-check"></i><b>3</b> Intro to the Tidyverse</a>
<ul>
<li class="chapter" data-level="3.1" data-path="intro-to-the-tidyverse.html"><a href="intro-to-the-tidyverse.html#data-wrangling"><i class="fa fa-check"></i><b>3.1</b> Data wrangling</a></li>
<li class="chapter" data-level="3.2" data-path="intro-to-the-tidyverse.html"><a href="intro-to-the-tidyverse.html#data-visualization"><i class="fa fa-check"></i><b>3.2</b> Data visualization</a></li>
<li class="chapter" data-level="3.3" data-path="intro-to-the-tidyverse.html"><a href="intro-to-the-tidyverse.html#grouping-and-summarizing"><i class="fa fa-check"></i><b>3.3</b> Grouping and summarizing</a></li>
<li class="chapter" data-level="3.4" data-path="intro-to-the-tidyverse.html"><a href="intro-to-the-tidyverse.html#types-of-visualizations"><i class="fa fa-check"></i><b>3.4</b> Types of visualizations</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="intro-to-data-visualization-with-ggplot2.html"><a href="intro-to-data-visualization-with-ggplot2.html"><i class="fa fa-check"></i><b>4</b> Intro to Data Visualization with ggplot2</a>
<ul>
<li class="chapter" data-level="4.1" data-path="intro-to-data-visualization-with-ggplot2.html"><a href="intro-to-data-visualization-with-ggplot2.html#introduction"><i class="fa fa-check"></i><b>4.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2" data-path="intro-to-data-visualization-with-ggplot2.html"><a href="intro-to-data-visualization-with-ggplot2.html#aesthetics"><i class="fa fa-check"></i><b>4.2</b> Aesthetics</a></li>
<li class="chapter" data-level="4.3" data-path="intro-to-data-visualization-with-ggplot2.html"><a href="intro-to-data-visualization-with-ggplot2.html#geometries"><i class="fa fa-check"></i><b>4.3</b> Geometries</a></li>
<li class="chapter" data-level="4.4" data-path="intro-to-data-visualization-with-ggplot2.html"><a href="intro-to-data-visualization-with-ggplot2.html#themes"><i class="fa fa-check"></i><b>4.4</b> Themes</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="working-with-data-in-the-tidyverse.html"><a href="working-with-data-in-the-tidyverse.html"><i class="fa fa-check"></i><b>5</b> Working with Data in the Tidyverse</a>
<ul>
<li class="chapter" data-level="5.1" data-path="working-with-data-in-the-tidyverse.html"><a href="working-with-data-in-the-tidyverse.html#explore-your-data"><i class="fa fa-check"></i><b>5.1</b> Explore your data</a></li>
<li class="chapter" data-level="5.2" data-path="working-with-data-in-the-tidyverse.html"><a href="working-with-data-in-the-tidyverse.html#tame-your-data"><i class="fa fa-check"></i><b>5.2</b> Tame your data</a></li>
<li class="chapter" data-level="5.3" data-path="working-with-data-in-the-tidyverse.html"><a href="working-with-data-in-the-tidyverse.html#tidy-your-data"><i class="fa fa-check"></i><b>5.3</b> Tidy your data</a></li>
<li class="chapter" data-level="5.4" data-path="working-with-data-in-the-tidyverse.html"><a href="working-with-data-in-the-tidyverse.html#transform-your-data"><i class="fa fa-check"></i><b>5.4</b> Transform your data</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="categorical-data-in-the-tidyverse.html"><a href="categorical-data-in-the-tidyverse.html"><i class="fa fa-check"></i><b>6</b> Categorical Data in the Tidyverse</a>
<ul>
<li class="chapter" data-level="6.1" data-path="categorical-data-in-the-tidyverse.html"><a href="categorical-data-in-the-tidyverse.html#introduction-to-factor-variables"><i class="fa fa-check"></i><b>6.1</b> Introduction to Factor Variables</a></li>
<li class="chapter" data-level="6.2" data-path="categorical-data-in-the-tidyverse.html"><a href="categorical-data-in-the-tidyverse.html#manipulating-factor-variables"><i class="fa fa-check"></i><b>6.2</b> Manipulating Factor Variables</a></li>
<li class="chapter" data-level="6.3" data-path="categorical-data-in-the-tidyverse.html"><a href="categorical-data-in-the-tidyverse.html#creating-factor-variables"><i class="fa fa-check"></i><b>6.3</b> Creating Factor Variables</a></li>
<li class="chapter" data-level="6.4" data-path="categorical-data-in-the-tidyverse.html"><a href="categorical-data-in-the-tidyverse.html#case-study-on-flight-etiquette"><i class="fa fa-check"></i><b>6.4</b> Case Study on Flight Etiquette</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html"><i class="fa fa-check"></i><b>7</b> Data Manipulation with dplyr</a>
<ul>
<li class="chapter" data-level="7.1" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#transforming-data-with-dplyr"><i class="fa fa-check"></i><b>7.1</b> Transforming Data with dplyr</a></li>
<li class="chapter" data-level="7.2" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#aggregating-data"><i class="fa fa-check"></i><b>7.2</b> Aggregating Data</a></li>
<li class="chapter" data-level="7.3" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#selecting-and-transforming-data"><i class="fa fa-check"></i><b>7.3</b> Selecting and Transforming Data</a></li>
<li class="chapter" data-level="7.4" data-path="data-manipulation-with-dplyr.html"><a href="data-manipulation-with-dplyr.html#case-study-the-babynames-dataset"><i class="fa fa-check"></i><b>7.4</b> Case Study: The babynames Dataset</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="joining-data-with-dplyr.html"><a href="joining-data-with-dplyr.html"><i class="fa fa-check"></i><b>8</b> Joining Data with dplyr</a>
<ul>
<li class="chapter" data-level="8.1" data-path="joining-data-with-dplyr.html"><a href="joining-data-with-dplyr.html#joining-tables"><i class="fa fa-check"></i><b>8.1</b> Joining Tables</a></li>
<li class="chapter" data-level="8.2" data-path="joining-data-with-dplyr.html"><a href="joining-data-with-dplyr.html#left-and-right-joins"><i class="fa fa-check"></i><b>8.2</b> Left and Right Joins</a></li>
<li class="chapter" data-level="8.3" data-path="joining-data-with-dplyr.html"><a href="joining-data-with-dplyr.html#full-semi-and-anti-joins"><i class="fa fa-check"></i><b>8.3</b> Full, Semi, and Anti Joins</a></li>
<li class="chapter" data-level="8.4" data-path="joining-data-with-dplyr.html"><a href="joining-data-with-dplyr.html#case-study-joins-on-stack-overflow-data"><i class="fa fa-check"></i><b>8.4</b> Case Study: Joins on Stack Overflow Data</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html"><i class="fa fa-check"></i><b>9</b> Cleaning Data in R</a>
<ul>
<li class="chapter" data-level="9.1" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#common-data-problems"><i class="fa fa-check"></i><b>9.1</b> Common Data Problems</a></li>
<li class="chapter" data-level="9.2" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#categorical-and-text-data"><i class="fa fa-check"></i><b>9.2</b> Categorical and Text Data</a></li>
<li class="chapter" data-level="9.3" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#advanced-data-problems"><i class="fa fa-check"></i><b>9.3</b> Advanced Data Problems</a></li>
<li class="chapter" data-level="9.4" data-path="cleaning-data-in-r.html"><a href="cleaning-data-in-r.html#record-linkage"><i class="fa fa-check"></i><b>9.4</b> Record Linkage</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html"><i class="fa fa-check"></i><b>10</b> Introduction to SQL</a>
<ul>
<li class="chapter" data-level="10.1" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#selecting-columns"><i class="fa fa-check"></i><b>10.1</b> Selecting columns</a></li>
<li class="chapter" data-level="10.2" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#filtering-rows"><i class="fa fa-check"></i><b>10.2</b> Filtering rows</a></li>
<li class="chapter" data-level="10.3" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#aggregate-functions"><i class="fa fa-check"></i><b>10.3</b> Aggregate Functions</a></li>
<li class="chapter" data-level="10.4" data-path="introduction-to-sql.html"><a href="introduction-to-sql.html#sorting-and-grouping"><i class="fa fa-check"></i><b>10.4</b> Sorting and grouping</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html"><i class="fa fa-check"></i><b>11</b> Joining Data in SQL</a>
<ul>
<li class="chapter" data-level="11.1" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#introduction-to-joins"><i class="fa fa-check"></i><b>11.1</b> Introduction to joins</a></li>
<li class="chapter" data-level="11.2" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#outer-joins-and-cross-joins"><i class="fa fa-check"></i><b>11.2</b> Outer joins and cross joins</a></li>
<li class="chapter" data-level="11.3" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#set-theory-clauses"><i class="fa fa-check"></i><b>11.3</b> Set theory clauses</a></li>
<li class="chapter" data-level="11.4" data-path="joining-data-in-sql.html"><a href="joining-data-in-sql.html#subqueries"><i class="fa fa-check"></i><b>11.4</b> Subqueries</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="web-scraping-in-r.html"><a href="web-scraping-in-r.html"><i class="fa fa-check"></i><b>12</b> Web Scraping in R</a>
<ul>
<li class="chapter" data-level="12.1" data-path="web-scraping-in-r.html"><a href="web-scraping-in-r.html#introduction-to-html-and-web-scraping"><i class="fa fa-check"></i><b>12.1</b> Introduction to HTML and Web Scraping</a></li>
<li class="chapter" data-level="12.2" data-path="web-scraping-in-r.html"><a href="web-scraping-in-r.html#navigation-and-selection-with-css"><i class="fa fa-check"></i><b>12.2</b> Navigation and Selection with CSS</a></li>
<li class="chapter" data-level="12.3" data-path="web-scraping-in-r.html"><a href="web-scraping-in-r.html#advanced-selection-with-xpath"><i class="fa fa-check"></i><b>12.3</b> Advanced Selection with XPATH</a></li>
<li class="chapter" data-level="12.4" data-path="web-scraping-in-r.html"><a href="web-scraping-in-r.html#scraping-best-practices"><i class="fa fa-check"></i><b>12.4</b> Scraping Best Practices</a></li>
</ul></li>
<li class="part"><span><b>II Econometrics</b></span></li>
<li class="chapter" data-level="13" data-path="ch-2---slr.html"><a href="ch-2---slr.html"><i class="fa fa-check"></i><b>13</b> Ch 2 - SLR</a>
<ul>
<li class="chapter" data-level="13.1" data-path="ch-2---slr.html"><a href="ch-2---slr.html#notes"><i class="fa fa-check"></i><b>13.1</b> Notes</a></li>
<li class="chapter" data-level="13.2" data-path="ch-2---slr.html"><a href="ch-2---slr.html#example-2.3-ceo-salary-and-return-on-equity"><i class="fa fa-check"></i><b>13.2</b> Example 2.3: CEO Salary and Return on Equity</a></li>
<li class="chapter" data-level="13.3" data-path="ch-2---slr.html"><a href="ch-2---slr.html#example-2.4-wage-and-education"><i class="fa fa-check"></i><b>13.3</b> Example 2.4: Wage and Education</a></li>
<li class="chapter" data-level="13.4" data-path="ch-2---slr.html"><a href="ch-2---slr.html#example-2.5-voting-outcomes-and-campaign-expenditures"><i class="fa fa-check"></i><b>13.4</b> Example 2.5: Voting Outcomes and Campaign Expenditures</a></li>
<li class="chapter" data-level="13.5" data-path="ch-2---slr.html"><a href="ch-2---slr.html#example-of-fitted-values-haty"><i class="fa fa-check"></i><b>13.5</b> Example of Fitted Values (<span class="math inline">\(\hat{y}\)</span>)</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html"><i class="fa fa-check"></i><b>14</b> Ch 3 - MLR</a>
<ul>
<li class="chapter" data-level="14.1" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#data"><i class="fa fa-check"></i><b>14.1</b> Data</a>
<ul>
<li class="chapter" data-level="14.1.1" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#summary-statistics"><i class="fa fa-check"></i><b>14.1.1</b> Summary Statistics</a></li>
</ul></li>
<li class="chapter" data-level="14.2" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#regression-model-comparisons"><i class="fa fa-check"></i><b>14.2</b> Regression model comparisons</a></li>
<li class="chapter" data-level="14.3" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#adjusted-r-squared"><i class="fa fa-check"></i><b>14.3</b> Adjusted R-Squared</a></li>
<li class="chapter" data-level="14.4" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#multicollinearity"><i class="fa fa-check"></i><b>14.4</b> Multicollinearity</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#variance-inflation-factor-vif"><i class="fa fa-check"></i><b>14.4.1</b> Variance Inflation Factor (VIF)</a></li>
<li class="chapter" data-level="14.4.2" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#joint-hypotheses-test"><i class="fa fa-check"></i><b>14.4.2</b> Joint hypotheses test</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#testing-linear-combinations-of-parameters"><i class="fa fa-check"></i><b>14.5</b> Testing linear combinations of parameters</a></li>
<li class="chapter" data-level="14.6" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#a-note-on-presentation"><i class="fa fa-check"></i><b>14.6</b> A note on presentation</a></li>
<li class="chapter" data-level="14.7" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#log-transformations"><i class="fa fa-check"></i><b>14.7</b> Log transformations</a>
<ul>
<li class="chapter" data-level="14.7.1" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#histograms"><i class="fa fa-check"></i><b>14.7.1</b> Histograms</a></li>
<li class="chapter" data-level="14.7.2" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#scatter-plots"><i class="fa fa-check"></i><b>14.7.2</b> Scatter plots</a></li>
<li class="chapter" data-level="14.7.3" data-path="ch-3---mlr.html"><a href="ch-3---mlr.html#regression-models-with-levels-and-logs"><i class="fa fa-check"></i><b>14.7.3</b> Regression models with levels and logs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="dummy-variables-part-1.html"><a href="dummy-variables-part-1.html"><i class="fa fa-check"></i><b>15</b> Dummy Variables Part 1</a>
<ul>
<li class="chapter" data-level="15.1" data-path="dummy-variables-part-1.html"><a href="dummy-variables-part-1.html#obtain-and-prepare-data"><i class="fa fa-check"></i><b>15.1</b> Obtain and prepare data</a></li>
<li class="chapter" data-level="15.2" data-path="dummy-variables-part-1.html"><a href="dummy-variables-part-1.html#define-dummy-variables"><i class="fa fa-check"></i><b>15.2</b> Define dummy variables</a>
<ul>
<li class="chapter" data-level="15.2.1" data-path="dummy-variables-part-1.html"><a href="dummy-variables-part-1.html#alpha-model"><i class="fa fa-check"></i><b>15.2.1</b> Alpha Model</a></li>
<li class="chapter" data-level="15.2.2" data-path="dummy-variables-part-1.html"><a href="dummy-variables-part-1.html#beta-model"><i class="fa fa-check"></i><b>15.2.2</b> Beta Model</a></li>
</ul></li>
<li class="chapter" data-level="15.3" data-path="dummy-variables-part-1.html"><a href="dummy-variables-part-1.html#compare-the-regressions-side-by-side"><i class="fa fa-check"></i><b>15.3</b> Compare the regressions side-by-side</a></li>
<li class="chapter" data-level="15.4" data-path="dummy-variables-part-1.html"><a href="dummy-variables-part-1.html#compare-the-predictions-of-each-model"><i class="fa fa-check"></i><b>15.4</b> Compare the predictions of each model</a>
<ul>
<li class="chapter" data-level="15.4.1" data-path="dummy-variables-part-1.html"><a href="dummy-variables-part-1.html#group-averages"><i class="fa fa-check"></i><b>15.4.1</b> Group averages</a></li>
<li class="chapter" data-level="15.4.2" data-path="dummy-variables-part-1.html"><a href="dummy-variables-part-1.html#causal-estimates"><i class="fa fa-check"></i><b>15.4.2</b> Causal estimates?</a></li>
<li class="chapter" data-level="15.4.3" data-path="dummy-variables-part-1.html"><a href="dummy-variables-part-1.html#what-about-age"><i class="fa fa-check"></i><b>15.4.3</b> What about age?</a></li>
<li class="chapter" data-level="15.4.4" data-path="dummy-variables-part-1.html"><a href="dummy-variables-part-1.html#what-about-sex"><i class="fa fa-check"></i><b>15.4.4</b> What about sex?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="dummy-variables-part-2.html"><a href="dummy-variables-part-2.html"><i class="fa fa-check"></i><b>16</b> Dummy Variables Part 2</a>
<ul>
<li class="chapter" data-level="16.1" data-path="dummy-variables-part-2.html"><a href="dummy-variables-part-2.html#size-only"><i class="fa fa-check"></i><b>16.1</b> Size only</a></li>
<li class="chapter" data-level="16.2" data-path="dummy-variables-part-2.html"><a href="dummy-variables-part-2.html#number-of-bathrooms-and-size"><i class="fa fa-check"></i><b>16.2</b> Number of bathrooms and size</a></li>
<li class="chapter" data-level="16.3" data-path="dummy-variables-part-2.html"><a href="dummy-variables-part-2.html#slope-dummy"><i class="fa fa-check"></i><b>16.3</b> Slope dummy</a></li>
<li class="chapter" data-level="16.4" data-path="dummy-variables-part-2.html"><a href="dummy-variables-part-2.html#intercept-and-slope-dummies"><i class="fa fa-check"></i><b>16.4</b> Intercept and slope dummies</a></li>
<li class="chapter" data-level="16.5" data-path="dummy-variables-part-2.html"><a href="dummy-variables-part-2.html#models-with-the-number-of-bedrooms"><i class="fa fa-check"></i><b>16.5</b> Models with the number of bedrooms</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="fixed-effects.html"><a href="fixed-effects.html"><i class="fa fa-check"></i><b>17</b> Fixed Effects</a>
<ul>
<li class="chapter" data-level="17.1" data-path="fixed-effects.html"><a href="fixed-effects.html#variables"><i class="fa fa-check"></i><b>17.1</b> Variables</a></li>
<li class="chapter" data-level="17.2" data-path="fixed-effects.html"><a href="fixed-effects.html#ols"><i class="fa fa-check"></i><b>17.2</b> OLS</a></li>
<li class="chapter" data-level="17.3" data-path="fixed-effects.html"><a href="fixed-effects.html#country-fixed-effects"><i class="fa fa-check"></i><b>17.3</b> Country Fixed Effects</a></li>
<li class="chapter" data-level="17.4" data-path="fixed-effects.html"><a href="fixed-effects.html#year-fixed-effects"><i class="fa fa-check"></i><b>17.4</b> Year Fixed Effects</a></li>
<li class="chapter" data-level="17.5" data-path="fixed-effects.html"><a href="fixed-effects.html#country-and-year-fixed-effects"><i class="fa fa-check"></i><b>17.5</b> Country and Year Fixed Effects</a></li>
<li class="chapter" data-level="17.6" data-path="fixed-effects.html"><a href="fixed-effects.html#comparison-of-all-models"><i class="fa fa-check"></i><b>17.6</b> Comparison of all models</a>
<ul>
<li class="chapter" data-level="17.6.1" data-path="fixed-effects.html"><a href="fixed-effects.html#within-transformation"><i class="fa fa-check"></i><b>17.6.1</b> Within Transformation</a></li>
<li class="chapter" data-level="17.6.2" data-path="fixed-effects.html"><a href="fixed-effects.html#plm-package"><i class="fa fa-check"></i><b>17.6.2</b> PLM Package</a></li>
<li class="chapter" data-level="17.6.3" data-path="fixed-effects.html"><a href="fixed-effects.html#dummy-variables"><i class="fa fa-check"></i><b>17.6.3</b> Dummy Variables</a></li>
</ul></li>
<li class="chapter" data-level="17.7" data-path="fixed-effects.html"><a href="fixed-effects.html#data-summary-by-country"><i class="fa fa-check"></i><b>17.7</b> Data Summary by Country</a>
<ul>
<li class="chapter" data-level="17.7.1" data-path="fixed-effects.html"><a href="fixed-effects.html#average-values-for-each-country"><i class="fa fa-check"></i><b>17.7.1</b> Average Values for Each Country</a></li>
<li class="chapter" data-level="17.7.2" data-path="fixed-effects.html"><a href="fixed-effects.html#variable-specific-values-and-within-transformation-for-each-country"><i class="fa fa-check"></i><b>17.7.2</b> Variable-Specific Values and Within Transformation for Each Country</a></li>
<li class="chapter" data-level="17.7.3" data-path="fixed-effects.html"><a href="fixed-effects.html#life-expectancy"><i class="fa fa-check"></i><b>17.7.3</b> Life expectancy</a></li>
<li class="chapter" data-level="17.7.4" data-path="fixed-effects.html"><a href="fixed-effects.html#gdp-per-capita"><i class="fa fa-check"></i><b>17.7.4</b> GDP per capita</a></li>
<li class="chapter" data-level="17.7.5" data-path="fixed-effects.html"><a href="fixed-effects.html#population"><i class="fa fa-check"></i><b>17.7.5</b> Population</a></li>
<li class="chapter" data-level="17.7.6" data-path="fixed-effects.html"><a href="fixed-effects.html#percent-female"><i class="fa fa-check"></i><b>17.7.6</b> Percent female</a></li>
<li class="chapter" data-level="17.7.7" data-path="fixed-effects.html"><a href="fixed-effects.html#percent-rural"><i class="fa fa-check"></i><b>17.7.7</b> Percent rural</a></li>
</ul></li>
<li class="chapter" data-level="17.8" data-path="fixed-effects.html"><a href="fixed-effects.html#bookdown-style-note"><i class="fa fa-check"></i><b>17.8</b> Bookdown Style Note</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="difference-in-differences.html"><a href="difference-in-differences.html"><i class="fa fa-check"></i><b>18</b> Difference-in-Differences</a>
<ul>
<li class="chapter" data-level="18.1" data-path="difference-in-differences.html"><a href="difference-in-differences.html#data-1"><i class="fa fa-check"></i><b>18.1</b> Data</a></li>
<li class="chapter" data-level="18.2" data-path="difference-in-differences.html"><a href="difference-in-differences.html#model-1"><i class="fa fa-check"></i><b>18.2</b> Model 1</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="difference-in-differences.html"><a href="difference-in-differences.html#equivalent-model-1"><i class="fa fa-check"></i><b>18.2.1</b> Equivalent model 1</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="difference-in-differences.html"><a href="difference-in-differences.html#model-2"><i class="fa fa-check"></i><b>18.3</b> Model 2</a></li>
<li class="chapter" data-level="18.4" data-path="difference-in-differences.html"><a href="difference-in-differences.html#comparison-of-models"><i class="fa fa-check"></i><b>18.4</b> Comparison of models</a></li>
<li class="chapter" data-level="18.5" data-path="difference-in-differences.html"><a href="difference-in-differences.html#additional-questions"><i class="fa fa-check"></i><b>18.5</b> Additional questions</a>
<ul>
<li class="chapter" data-level="18.5.1" data-path="difference-in-differences.html"><a href="difference-in-differences.html#question-1"><i class="fa fa-check"></i><b>18.5.1</b> Question 1</a></li>
<li class="chapter" data-level="18.5.2" data-path="difference-in-differences.html"><a href="difference-in-differences.html#question-2"><i class="fa fa-check"></i><b>18.5.2</b> Question 2</a></li>
<li class="chapter" data-level="18.5.3" data-path="difference-in-differences.html"><a href="difference-in-differences.html#question-3"><i class="fa fa-check"></i><b>18.5.3</b> Question 3</a></li>
<li class="chapter" data-level="18.5.4" data-path="difference-in-differences.html"><a href="difference-in-differences.html#question-4"><i class="fa fa-check"></i><b>18.5.4</b> Question 4</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="difference-in-differences.html"><a href="difference-in-differences.html#polynomials"><i class="fa fa-check"></i><b>18.6</b> Polynomials</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R Programming Guidebook Project</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="difference-in-differences" class="section level1" number="18">
<h1><span class="header-section-number">18</span> Difference-in-Differences</h1>
<p><a href="https://moodle.lawrence.edu/pluginfile.php/692806/mod_resource/content/5/18-Difference-in-Differences-SOLN.html">Solutions</a></p>
<style>
.textSoln {
  color: red;
}
</style>
<p>In this chapter you will estimate the Garbage Incinerator Difference-In-Differences model discussed in LN6. You can also gain experience working with models that include polynomials.</p>
<p>Solutions are posted in Moodle.</p>
<div class="sourceCode" id="cb779"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb779-1"><a href="difference-in-differences.html#cb779-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb779-2"><a href="difference-in-differences.html#cb779-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pander)</span>
<span id="cb779-3"><a href="difference-in-differences.html#cb779-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(stargazer)</span>
<span id="cb779-4"><a href="difference-in-differences.html#cb779-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb779-5"><a href="difference-in-differences.html#cb779-5" aria-hidden="true" tabindex="-1"></a><span class="do">## Set how many decimals at which R starts to use scientific notation </span></span>
<span id="cb779-6"><a href="difference-in-differences.html#cb779-6" aria-hidden="true" tabindex="-1"></a><span class="fu">options</span>(<span class="at">scipen=</span><span class="dv">4</span>)</span>
<span id="cb779-7"><a href="difference-in-differences.html#cb779-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb779-8"><a href="difference-in-differences.html#cb779-8" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;https://raw.githubusercontent.com/econ380w21/380data/main/garbageIncineratorDD.csv&quot;</span>)</span></code></pre></div>
<div id="data-1" class="section level2" number="18.1">
<h2><span class="header-section-number">18.1</span> Data</h2>
<p>The data has 321 observations on house prices in North Andover, MA. The variables include:</p>
<table>
<colgroup>
<col width="50%" />
<col width="50%" />
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>year</td>
<td>1978 or 1981</td>
</tr>
<tr class="even">
<td>dist</td>
<td>miles from incinerator</td>
</tr>
<tr class="odd">
<td>rprice</td>
<td>price, 1978 dollars (“r” means real price, corrected for inflation)</td>
</tr>
<tr class="even">
<td>age</td>
<td>age of house in years</td>
</tr>
<tr class="odd">
<td>rooms</td>
<td># rooms in house</td>
</tr>
<tr class="even">
<td>baths</td>
<td># bathrooms</td>
</tr>
<tr class="odd">
<td>area</td>
<td>house size in square feet</td>
</tr>
<tr class="even">
<td>land</td>
<td>land area in square feet</td>
</tr>
</tbody>
</table>
<p>The relevant background is covered in LN6, but I’ll summarize it again. We have house prices in 1978 and 1981 in North Andover, MA. In 1978 no one knows about any garbage incinerator, so prices in 1978 cannot be affected by the garbage incinerator. In 1979 it was announced publicly that a new garbage incinerator would be built and operational by 1981. The variable “dist” has the distance in miles from the future location of the incinerator. We want to estimate if knowledge of the future incinerator lowered house prices for houses near the incinerator. We’ll define “near” as within 3 miles of the incinerator location.</p>
<div class="sourceCode" id="cb780"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb780-1"><a href="difference-in-differences.html#cb780-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(<span class="fu">as.data.frame</span>(mydata), <span class="at">type =</span> <span class="st">&quot;html&quot;</span>,<span class="at">summary.stat =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>,<span class="st">&quot;mean&quot;</span>,<span class="st">&quot;sd&quot;</span>, <span class="st">&quot;min&quot;</span>, <span class="st">&quot;median&quot;</span>, <span class="st">&quot;max&quot;</span>))</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="7" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Statistic
</td>
<td>
N
</td>
<td>
Mean
</td>
<td>
St. Dev.
</td>
<td>
Min
</td>
<td>
Median
</td>
<td>
Max
</td>
</tr>
<tr>
<td colspan="7" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
year
</td>
<td>
321
</td>
<td>
1,979.327
</td>
<td>
1.492
</td>
<td>
1,978
</td>
<td>
1,978
</td>
<td>
1,981
</td>
</tr>
<tr>
<td style="text-align:left">
dist
</td>
<td>
321
</td>
<td>
3.923
</td>
<td>
1.611
</td>
<td>
0.947
</td>
<td>
3.769
</td>
<td>
7.576
</td>
</tr>
<tr>
<td style="text-align:left">
rprice
</td>
<td>
321
</td>
<td>
83,721.350
</td>
<td>
33,118.790
</td>
<td>
26,000.000
</td>
<td>
82,000.000
</td>
<td>
300,000.000
</td>
</tr>
<tr>
<td style="text-align:left">
age
</td>
<td>
321
</td>
<td>
18.009
</td>
<td>
32.566
</td>
<td>
0
</td>
<td>
4
</td>
<td>
189
</td>
</tr>
<tr>
<td style="text-align:left">
rooms
</td>
<td>
321
</td>
<td>
6.586
</td>
<td>
0.901
</td>
<td>
4
</td>
<td>
7
</td>
<td>
10
</td>
</tr>
<tr>
<td style="text-align:left">
baths
</td>
<td>
321
</td>
<td>
2.340
</td>
<td>
0.771
</td>
<td>
1
</td>
<td>
2
</td>
<td>
4
</td>
</tr>
<tr>
<td style="text-align:left">
area
</td>
<td>
321
</td>
<td>
2,106.729
</td>
<td>
694.958
</td>
<td>
735
</td>
<td>
2,056
</td>
<td>
5,136
</td>
</tr>
<tr>
<td style="text-align:left">
land
</td>
<td>
321
</td>
<td>
39,629.890
</td>
<td>
39,514.390
</td>
<td>
1,710
</td>
<td>
43,560
</td>
<td>
544,500
</td>
</tr>
<tr>
<td colspan="7" style="border-bottom: 1px solid black">
</td>
</tr>
</table>
<p>Note that I put <code>mydata</code> inside <code>as.data.frame()</code>. Sometimes stargazer doesn’t work otherwise (as some of you found out in the CP).</p>
</div>
<div id="model-1" class="section level2" number="18.2">
<h2><span class="header-section-number">18.2</span> Model 1</h2>
<p>Estimate the following model and store the results in <code>model1</code></p>
<p><span class="math display">\[rprice=\beta_0+\beta_1near+\beta_2y81+\beta_3near\cdot y81+u\]</span>
where</p>
<table>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>near</td>
<td>=1 if house is 3 miles or less from incinerator location, = 0 o/w</td>
</tr>
<tr class="even">
<td>y81</td>
<td>=1 if house sold in 1981, = 0 o/w</td>
</tr>
</tbody>
</table>
<p>Fill in your code here. You need to generate the <code>near</code> and <code>y81</code> variables a variable for the interaction term (i.e., <code>y81near=y81*near</code>).</p>
<p>Tip about creating dummy variables: If you use something like <code>dist&lt;=3</code> to create <code>near</code>, it will create a column of <code>TRUE</code> and <code>FALSE</code>. If you put the condition in parentheses and multiply by 1, it will turn <code>TRUE</code> into <code>1</code> and <code>FALSE</code> into <code>0</code>. Thus, <code>(dist&lt;=3)*1</code> is equivalent to <code>ifelse(dist&lt;=3,1,0)</code>.</p>
<p>Tip (or, more of a requirement for 380) about interaction terms: R will let you include <code>y81*near</code> in the regression directly, but do not do this in 380 (and I suggest not doing it after 380 either, at least unless you check to make sure it’s doing what you think it’s doing). Frequently people make mistakes when they rely on R to include the interactions for them. To be sure that you know what the interaction terms are, you need to create them yourself. So create the interaction term yourself. You can name it <code>y81near</code>.</p>
<p>After you create the three variables, estimate the regression, store the regression results in <code>model1</code>, and display the results using pander.</p>
<p>Then, use <code>group_by()</code> and <code>summarize</code> to calculate the mean price for the four groups (far 1978, far 1981, near 1978, near 1981)</p>
<p>Finally, display the combinations of regression coefficients that equal the four group averages. These should match with the values shown and discussed in the LN6 slides.</p>
<div class="sourceCode" id="cb781"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb781-1"><a href="difference-in-differences.html#cb781-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Create Variables</span></span>
<span id="cb781-2"><a href="difference-in-differences.html#cb781-2" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> mydata <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">near =</span> (dist <span class="sc">&lt;=</span><span class="dv">3</span>) <span class="sc">*</span> <span class="dv">1</span>,</span>
<span id="cb781-3"><a href="difference-in-differences.html#cb781-3" aria-hidden="true" tabindex="-1"></a>                            <span class="at">y81 =</span> (year <span class="sc">==</span> <span class="dv">1981</span>) <span class="sc">*</span> <span class="dv">1</span>,</span>
<span id="cb781-4"><a href="difference-in-differences.html#cb781-4" aria-hidden="true" tabindex="-1"></a>                            <span class="at">y81near =</span> y81 <span class="sc">*</span> near)</span>
<span id="cb781-5"><a href="difference-in-differences.html#cb781-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb781-6"><a href="difference-in-differences.html#cb781-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Estimate model</span></span>
<span id="cb781-7"><a href="difference-in-differences.html#cb781-7" aria-hidden="true" tabindex="-1"></a>model1 <span class="ot">&lt;-</span> <span class="fu">lm</span>(rprice<span class="sc">~</span>near<span class="sc">+</span>y81<span class="sc">+</span>y81near,<span class="at">data=</span>mydata)</span>
<span id="cb781-8"><a href="difference-in-differences.html#cb781-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb781-9"><a href="difference-in-differences.html#cb781-9" aria-hidden="true" tabindex="-1"></a><span class="fu">pander</span>(<span class="fu">summary</span>(model1))</span></code></pre></div>
<table style="width:92%;">
<colgroup>
<col width="25%" />
<col width="15%" />
<col width="18%" />
<col width="13%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">Estimate</th>
<th align="center">Std. Error</th>
<th align="center">t value</th>
<th align="center">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>(Intercept)</strong></td>
<td align="center">82517</td>
<td align="center">2727</td>
<td align="center">30.26</td>
<td align="center">1.709e-95</td>
</tr>
<tr class="even">
<td align="center"><strong>near</strong></td>
<td align="center">-18824</td>
<td align="center">4875</td>
<td align="center">-3.861</td>
<td align="center">0.0001368</td>
</tr>
<tr class="odd">
<td align="center"><strong>y81</strong></td>
<td align="center">18790</td>
<td align="center">4050</td>
<td align="center">4.64</td>
<td align="center">0.000005117</td>
</tr>
<tr class="even">
<td align="center"><strong>y81near</strong></td>
<td align="center">-11864</td>
<td align="center">7457</td>
<td align="center">-1.591</td>
<td align="center">0.1126</td>
</tr>
</tbody>
</table>
<table style="width:88%;">
<caption>Fitting linear model: rprice ~ near + y81 + y81near</caption>
<colgroup>
<col width="20%" />
<col width="30%" />
<col width="12%" />
<col width="23%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Observations</th>
<th align="center">Residual Std. Error</th>
<th align="center"><span class="math inline">\(R^2\)</span></th>
<th align="center">Adjusted <span class="math inline">\(R^2\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">321</td>
<td align="center">30243</td>
<td align="center">0.1739</td>
<td align="center">0.1661</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb782"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb782-1"><a href="difference-in-differences.html#cb782-1" aria-hidden="true" tabindex="-1"></a><span class="do">## 4 group averages using group_by() and summarize()</span></span>
<span id="cb782-2"><a href="difference-in-differences.html#cb782-2" aria-hidden="true" tabindex="-1"></a>mydata <span class="sc">%&gt;%</span> </span>
<span id="cb782-3"><a href="difference-in-differences.html#cb782-3" aria-hidden="true" tabindex="-1"></a>   <span class="fu">group_by</span>(near,y81) <span class="sc">%&gt;%</span></span>
<span id="cb782-4"><a href="difference-in-differences.html#cb782-4" aria-hidden="true" tabindex="-1"></a>   <span class="fu">summarize</span>(<span class="at">priceAvg=</span><span class="fu">mean</span>(rprice))</span></code></pre></div>
<pre><code>## # A tibble: 4 × 3
## # Groups:   near [2]
##    near   y81 priceAvg
##   &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;
## 1     0     0   82517.
## 2     0     1  101308.
## 3     1     0   63693.
## 4     1     1   70619.</code></pre>
<div class="sourceCode" id="cb784"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb784-1"><a href="difference-in-differences.html#cb784-1" aria-hidden="true" tabindex="-1"></a><span class="do">## far 1978</span></span>
<span id="cb784-2"><a href="difference-in-differences.html#cb784-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1)[<span class="st">&quot;(Intercept)&quot;</span>]</span></code></pre></div>
<pre><code>## (Intercept) 
##    82517.23</code></pre>
<div class="sourceCode" id="cb786"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb786-1"><a href="difference-in-differences.html#cb786-1" aria-hidden="true" tabindex="-1"></a><span class="do">## far 1981</span></span>
<span id="cb786-2"><a href="difference-in-differences.html#cb786-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;y81&quot;</span>]</span></code></pre></div>
<pre><code>## (Intercept) 
##    101307.5</code></pre>
<div class="sourceCode" id="cb788"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb788-1"><a href="difference-in-differences.html#cb788-1" aria-hidden="true" tabindex="-1"></a><span class="do">## near 1978</span></span>
<span id="cb788-2"><a href="difference-in-differences.html#cb788-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;near&quot;</span>]</span></code></pre></div>
<pre><code>## (Intercept) 
##    63692.86</code></pre>
<div class="sourceCode" id="cb790"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb790-1"><a href="difference-in-differences.html#cb790-1" aria-hidden="true" tabindex="-1"></a><span class="do">## near 1981</span></span>
<span id="cb790-2"><a href="difference-in-differences.html#cb790-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;near&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;y81&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;y81near&quot;</span>]</span></code></pre></div>
<pre><code>## (Intercept) 
##    70619.24</code></pre>
<div id="equivalent-model-1" class="section level3" number="18.2.1">
<h3><span class="header-section-number">18.2.1</span> Equivalent model 1</h3>
<p>In LN6 we discuss an equivalent model that defines dummy variables for each group. Create the set of group dummy variables and estimate the model. Stote it in <code>model1equiv</code>. Calculate the conditional expectation for the four groups and show that each is the same as in the version of model 1 estimated above.</p>
<div class="sourceCode" id="cb792"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb792-1"><a href="difference-in-differences.html#cb792-1" aria-hidden="true" tabindex="-1"></a><span class="do">## Write your code here</span></span>
<span id="cb792-2"><a href="difference-in-differences.html#cb792-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb792-3"><a href="difference-in-differences.html#cb792-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Create Variables</span></span>
<span id="cb792-4"><a href="difference-in-differences.html#cb792-4" aria-hidden="true" tabindex="-1"></a>mydata <span class="ot">&lt;-</span> mydata <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">y78near =</span> (<span class="dv">1</span><span class="sc">-</span>y81)<span class="sc">*</span>near,</span>
<span id="cb792-5"><a href="difference-in-differences.html#cb792-5" aria-hidden="true" tabindex="-1"></a>                            <span class="at">y81far =</span> y81 <span class="sc">*</span> (<span class="dv">1</span><span class="sc">-</span>near))</span>
<span id="cb792-6"><a href="difference-in-differences.html#cb792-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb792-7"><a href="difference-in-differences.html#cb792-7" aria-hidden="true" tabindex="-1"></a><span class="do">## we already created y81near above</span></span>
<span id="cb792-8"><a href="difference-in-differences.html#cb792-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb792-9"><a href="difference-in-differences.html#cb792-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Estimate model</span></span>
<span id="cb792-10"><a href="difference-in-differences.html#cb792-10" aria-hidden="true" tabindex="-1"></a>model1equiv <span class="ot">&lt;-</span> <span class="fu">lm</span>(rprice<span class="sc">~</span>y78near<span class="sc">+</span>y81near<span class="sc">+</span>y81far,<span class="at">data=</span>mydata)</span>
<span id="cb792-11"><a href="difference-in-differences.html#cb792-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb792-12"><a href="difference-in-differences.html#cb792-12" aria-hidden="true" tabindex="-1"></a><span class="fu">pander</span>(<span class="fu">summary</span>(model1equiv))</span></code></pre></div>
<table style="width:92%;">
<colgroup>
<col width="25%" />
<col width="15%" />
<col width="18%" />
<col width="13%" />
<col width="19%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">Estimate</th>
<th align="center">Std. Error</th>
<th align="center">t value</th>
<th align="center">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>(Intercept)</strong></td>
<td align="center">82517</td>
<td align="center">2727</td>
<td align="center">30.26</td>
<td align="center">1.709e-95</td>
</tr>
<tr class="even">
<td align="center"><strong>y78near</strong></td>
<td align="center">-18824</td>
<td align="center">4875</td>
<td align="center">-3.861</td>
<td align="center">0.0001368</td>
</tr>
<tr class="odd">
<td align="center"><strong>y81near</strong></td>
<td align="center">-11898</td>
<td align="center">5505</td>
<td align="center">-2.161</td>
<td align="center">0.03141</td>
</tr>
<tr class="even">
<td align="center"><strong>y81far</strong></td>
<td align="center">18790</td>
<td align="center">4050</td>
<td align="center">4.64</td>
<td align="center">0.000005117</td>
</tr>
</tbody>
</table>
<table style="width:88%;">
<caption>Fitting linear model: rprice ~ y78near + y81near + y81far</caption>
<colgroup>
<col width="20%" />
<col width="30%" />
<col width="12%" />
<col width="23%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Observations</th>
<th align="center">Residual Std. Error</th>
<th align="center"><span class="math inline">\(R^2\)</span></th>
<th align="center">Adjusted <span class="math inline">\(R^2\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">321</td>
<td align="center">30243</td>
<td align="center">0.1739</td>
<td align="center">0.1661</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb793"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb793-1"><a href="difference-in-differences.html#cb793-1" aria-hidden="true" tabindex="-1"></a><span class="do">## display conditional expectations for each model, and subtract model1equiv estimate from model 1 to show they are o (all are within 1e-10)</span></span>
<span id="cb793-2"><a href="difference-in-differences.html#cb793-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb793-3"><a href="difference-in-differences.html#cb793-3" aria-hidden="true" tabindex="-1"></a><span class="do">## far 1978</span></span>
<span id="cb793-4"><a href="difference-in-differences.html#cb793-4" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1)[<span class="st">&quot;(Intercept)&quot;</span>]</span></code></pre></div>
<pre><code>## (Intercept) 
##    82517.23</code></pre>
<div class="sourceCode" id="cb795"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb795-1"><a href="difference-in-differences.html#cb795-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1equiv)[<span class="st">&quot;(Intercept)&quot;</span>]</span></code></pre></div>
<pre><code>## (Intercept) 
##    82517.23</code></pre>
<div class="sourceCode" id="cb797"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb797-1"><a href="difference-in-differences.html#cb797-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">-</span><span class="fu">coef</span>(model1equiv)[<span class="st">&quot;(Intercept)&quot;</span>]</span></code></pre></div>
<pre><code>##   (Intercept) 
## -5.820766e-11</code></pre>
<div class="sourceCode" id="cb799"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb799-1"><a href="difference-in-differences.html#cb799-1" aria-hidden="true" tabindex="-1"></a><span class="do">## far 1981</span></span>
<span id="cb799-2"><a href="difference-in-differences.html#cb799-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;y81&quot;</span>]</span></code></pre></div>
<pre><code>## (Intercept) 
##    101307.5</code></pre>
<div class="sourceCode" id="cb801"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb801-1"><a href="difference-in-differences.html#cb801-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1equiv)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1equiv)[<span class="st">&quot;y81far&quot;</span>]</span></code></pre></div>
<pre><code>## (Intercept) 
##    101307.5</code></pre>
<div class="sourceCode" id="cb803"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb803-1"><a href="difference-in-differences.html#cb803-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;y81&quot;</span>]<span class="sc">-</span>(<span class="fu">coef</span>(model1equiv)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1equiv)[<span class="st">&quot;y81far&quot;</span>])</span></code></pre></div>
<pre><code>##   (Intercept) 
## -5.820766e-11</code></pre>
<div class="sourceCode" id="cb805"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb805-1"><a href="difference-in-differences.html#cb805-1" aria-hidden="true" tabindex="-1"></a><span class="do">## near 1978</span></span>
<span id="cb805-2"><a href="difference-in-differences.html#cb805-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;near&quot;</span>]</span></code></pre></div>
<pre><code>## (Intercept) 
##    63692.86</code></pre>
<div class="sourceCode" id="cb807"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb807-1"><a href="difference-in-differences.html#cb807-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1equiv)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1equiv)[<span class="st">&quot;y78near&quot;</span>]</span></code></pre></div>
<pre><code>## (Intercept) 
##    63692.86</code></pre>
<div class="sourceCode" id="cb809"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb809-1"><a href="difference-in-differences.html#cb809-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;near&quot;</span>]<span class="sc">-</span>(<span class="fu">coef</span>(model1equiv)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1equiv)[<span class="st">&quot;y78near&quot;</span>])</span></code></pre></div>
<pre><code>##  (Intercept) 
## 2.546585e-10</code></pre>
<div class="sourceCode" id="cb811"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb811-1"><a href="difference-in-differences.html#cb811-1" aria-hidden="true" tabindex="-1"></a><span class="do">## near 1981</span></span>
<span id="cb811-2"><a href="difference-in-differences.html#cb811-2" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;near&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;y81&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;y81near&quot;</span>]</span></code></pre></div>
<pre><code>## (Intercept) 
##    70619.24</code></pre>
<div class="sourceCode" id="cb813"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb813-1"><a href="difference-in-differences.html#cb813-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1equiv)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1equiv)[<span class="st">&quot;y81near&quot;</span>]</span></code></pre></div>
<pre><code>## (Intercept) 
##    70619.24</code></pre>
<div class="sourceCode" id="cb815"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb815-1"><a href="difference-in-differences.html#cb815-1" aria-hidden="true" tabindex="-1"></a><span class="fu">coef</span>(model1)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;near&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;y81&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1)[<span class="st">&quot;y81near&quot;</span>]<span class="sc">-</span>(<span class="fu">coef</span>(model1equiv)[<span class="st">&quot;(Intercept)&quot;</span>]<span class="sc">+</span><span class="fu">coef</span>(model1equiv)[<span class="st">&quot;y81near&quot;</span>])</span></code></pre></div>
<pre><code>##   (Intercept) 
## -5.820766e-11</code></pre>
</div>
</div>
<div id="model-2" class="section level2" number="18.3">
<h2><span class="header-section-number">18.3</span> Model 2</h2>
<p>Now estimate the following model</p>
<p><span class="math display">\[
\begin{align}
rprice=\beta_0+\beta_1near+\beta_2y81+\beta_3near\cdot y81 &amp;+\beta_4age+\beta_5age^2 + \beta_6rooms
\\ &amp;+ \beta_7baths+\beta_8area+\beta_9land+u
\end{align}
\]</span></p>
<p>where <span class="math inline">\(age^2\)</span> is the variable age squared. Store your regression results in <code>model2</code>.</p>
<div class="sourceCode" id="cb817"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb817-1"><a href="difference-in-differences.html#cb817-1" aria-hidden="true" tabindex="-1"></a>mydata<span class="sc">$</span>agesq <span class="ot">&lt;-</span> mydata<span class="sc">$</span>age<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb817-2"><a href="difference-in-differences.html#cb817-2" aria-hidden="true" tabindex="-1"></a>model2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(rprice<span class="sc">~</span>near<span class="sc">+</span>y81<span class="sc">+</span>y81near<span class="sc">+</span>age<span class="sc">+</span>agesq<span class="sc">+</span>rooms<span class="sc">+</span>baths<span class="sc">+</span>area<span class="sc">+</span>land,<span class="at">data=</span>mydata)</span>
<span id="cb817-3"><a href="difference-in-differences.html#cb817-3" aria-hidden="true" tabindex="-1"></a><span class="fu">pander</span>(<span class="fu">summary</span>(model2))</span></code></pre></div>
<table style="width:94%;">
<colgroup>
<col width="25%" />
<col width="15%" />
<col width="18%" />
<col width="13%" />
<col width="22%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">Estimate</th>
<th align="center">Std. Error</th>
<th align="center">t value</th>
<th align="center">Pr(&gt;|t|)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>(Intercept)</strong></td>
<td align="center">2189</td>
<td align="center">10440</td>
<td align="center">0.2097</td>
<td align="center">0.8341</td>
</tr>
<tr class="even">
<td align="center"><strong>near</strong></td>
<td align="center">9965</td>
<td align="center">3881</td>
<td align="center">2.568</td>
<td align="center">0.0107</td>
</tr>
<tr class="odd">
<td align="center"><strong>y81</strong></td>
<td align="center">15210</td>
<td align="center">2788</td>
<td align="center">5.455</td>
<td align="center">0.00000009997</td>
</tr>
<tr class="even">
<td align="center"><strong>y81near</strong></td>
<td align="center">-15021</td>
<td align="center">5030</td>
<td align="center">-2.986</td>
<td align="center">0.003048</td>
</tr>
<tr class="odd">
<td align="center"><strong>age</strong></td>
<td align="center">-657.2</td>
<td align="center">129</td>
<td align="center">-5.095</td>
<td align="center">0.0000006063</td>
</tr>
<tr class="even">
<td align="center"><strong>agesq</strong></td>
<td align="center">3.083</td>
<td align="center">0.8099</td>
<td align="center">3.806</td>
<td align="center">0.0001698</td>
</tr>
<tr class="odd">
<td align="center"><strong>rooms</strong></td>
<td align="center">3281</td>
<td align="center">1679</td>
<td align="center">1.954</td>
<td align="center">0.05156</td>
</tr>
<tr class="even">
<td align="center"><strong>baths</strong></td>
<td align="center">7489</td>
<td align="center">2601</td>
<td align="center">2.879</td>
<td align="center">0.004267</td>
</tr>
<tr class="odd">
<td align="center"><strong>area</strong></td>
<td align="center">17.83</td>
<td align="center">2.328</td>
<td align="center">7.658</td>
<td align="center">2.405e-13</td>
</tr>
<tr class="even">
<td align="center"><strong>land</strong></td>
<td align="center">0.1156</td>
<td align="center">0.02993</td>
<td align="center">3.863</td>
<td align="center">0.0001364</td>
</tr>
</tbody>
</table>
<table style="width:88%;">
<caption>Fitting linear model: rprice ~ near + y81 + y81near + age + agesq + rooms + baths + area + land</caption>
<colgroup>
<col width="20%" />
<col width="30%" />
<col width="12%" />
<col width="23%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">Observations</th>
<th align="center">Residual Std. Error</th>
<th align="center"><span class="math inline">\(R^2\)</span></th>
<th align="center">Adjusted <span class="math inline">\(R^2\)</span></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">321</td>
<td align="center">19824</td>
<td align="center">0.6518</td>
<td align="center">0.6417</td>
</tr>
</tbody>
</table>
<p>Note that if you want to use <span class="math inline">\(age^2\)</span> inside <code>lm()</code> instead of creating the <code>agesq</code> variable first, you need to put the <code>age^2</code> inside <code>I()</code>. For example, you could do:</p>
<div class="sourceCode" id="cb818"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb818-1"><a href="difference-in-differences.html#cb818-1" aria-hidden="true" tabindex="-1"></a><span class="co"># model2 &lt;- lm (rprice~near+y81+near*y81+age+I(age^2)+rooms+baths+area+land, data= mydata)</span></span>
<span id="cb818-2"><a href="difference-in-differences.html#cb818-2" aria-hidden="true" tabindex="-1"></a><span class="co"># pander(summary (example))</span></span></code></pre></div>
</div>
<div id="comparison-of-models" class="section level2" number="18.4">
<h2><span class="header-section-number">18.4</span> Comparison of models</h2>
<p>Here we display the two models in a stargazer table. First we’ll display them with the p-values. Then we’ll display them with standard errors, next with the t-statistic, and finally with the 95% confidence interval. It’s common for results to be presenting with one of these four statistics, so it’s important for you to be comfortable with each choice. I’ve included the stargazer tables for you. Just un-comment-them out (i.e., remove the hash tags…which you can do by selecting all of them and using ctrl/cmd-shift-C).</p>
<div class="sourceCode" id="cb819"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb819-1"><a href="difference-in-differences.html#cb819-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(model1, model2,</span>
<span id="cb819-2"><a href="difference-in-differences.html#cb819-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">type =</span> <span class="st">&quot;html&quot;</span>,</span>
<span id="cb819-3"><a href="difference-in-differences.html#cb819-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">report=</span>(<span class="st">&#39;vc*p&#39;</span>),</span>
<span id="cb819-4"><a href="difference-in-differences.html#cb819-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">keep.stat =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>,<span class="st">&quot;rsq&quot;</span>,<span class="st">&quot;adj.rsq&quot;</span>),</span>
<span id="cb819-5"><a href="difference-in-differences.html#cb819-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">notes =</span> <span class="st">&quot;p-value reported in parentheses,  &lt;em&gt;&amp;#42;p&amp;lt;0.1;&amp;#42;&amp;#42;p&amp;lt;0.05;&amp;#42;&amp;#42;&amp;#42;p&amp;lt;0.01&lt;/em&gt;&quot;</span>,</span>
<span id="cb819-6"><a href="difference-in-differences.html#cb819-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">notes.append =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
rprice
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
near
</td>
<td>
-18,824.370<sup>***</sup>
</td>
<td>
9,964.964<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
p = 0.0002
</td>
<td>
p = 0.011
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
y81
</td>
<td>
18,790.290<sup>***</sup>
</td>
<td>
15,210.440<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
p = 0.00001
</td>
<td>
p = 0.00000
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
y81near
</td>
<td>
-11,863.900
</td>
<td>
-15,020.680<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
p = 0.113
</td>
<td>
p = 0.004
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
age
</td>
<td>
</td>
<td>
-657.159<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
p = 0.00000
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
agesq
</td>
<td>
</td>
<td>
3.083<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
p = 0.0002
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
rooms
</td>
<td>
</td>
<td>
3,280.510<sup>*</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
p = 0.052
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
baths
</td>
<td>
</td>
<td>
7,489.360<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
p = 0.005
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
area
</td>
<td>
</td>
<td>
17.830<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
p = 0.000
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
land
</td>
<td>
</td>
<td>
0.116<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
p = 0.0002
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
82,517.230<sup>***</sup>
</td>
<td>
2,189.081
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
p = 0.000
</td>
<td>
p = 0.835
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
321
</td>
<td>
321
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.174
</td>
<td>
0.652
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.166
</td>
<td>
0.642
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="2" style="text-align:right">
p-value reported in parentheses, <em>*p&lt;0.1;**p&lt;0.05;***p&lt;0.01</em>
</td>
</tr>
</table>
<div class="sourceCode" id="cb820"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb820-1"><a href="difference-in-differences.html#cb820-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(model1, model2,</span>
<span id="cb820-2"><a href="difference-in-differences.html#cb820-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">type =</span> <span class="st">&quot;html&quot;</span>,</span>
<span id="cb820-3"><a href="difference-in-differences.html#cb820-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">report=</span>(<span class="st">&#39;vc*s&#39;</span>),</span>
<span id="cb820-4"><a href="difference-in-differences.html#cb820-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">keep.stat =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>,<span class="st">&quot;rsq&quot;</span>,<span class="st">&quot;adj.rsq&quot;</span>),</span>
<span id="cb820-5"><a href="difference-in-differences.html#cb820-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">notes =</span> <span class="st">&quot;standard error reported in parentheses, &lt;em&gt;&amp;#42;p&amp;lt;0.1;&amp;#42;&amp;#42;p&amp;lt;0.05;&amp;#42;&amp;#42;&amp;#42;p&amp;lt;0.01&lt;/em&gt;&quot;</span>,</span>
<span id="cb820-6"><a href="difference-in-differences.html#cb820-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">notes.append =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
rprice
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
near
</td>
<td>
-18,824.370<sup>***</sup>
</td>
<td>
9,964.964<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(4,875.322)
</td>
<td>
(3,880.777)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
y81
</td>
<td>
18,790.290<sup>***</sup>
</td>
<td>
15,210.440<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(4,050.065)
</td>
<td>
(2,788.266)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
y81near
</td>
<td>
-11,863.900
</td>
<td>
-15,020.680<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(7,456.646)
</td>
<td>
(5,029.757)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
age
</td>
<td>
</td>
<td>
-657.159<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(128.983)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
agesq
</td>
<td>
</td>
<td>
3.083<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.810)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
rooms
</td>
<td>
</td>
<td>
3,280.510<sup>*</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(1,678.566)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
baths
</td>
<td>
</td>
<td>
7,489.360<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(2,601.438)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
area
</td>
<td>
</td>
<td>
17.830<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(2.328)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
land
</td>
<td>
</td>
<td>
0.116<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.030)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
82,517.230<sup>***</sup>
</td>
<td>
2,189.081
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(2,726.910)
</td>
<td>
(10,440.190)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
321
</td>
<td>
321
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.174
</td>
<td>
0.652
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.166
</td>
<td>
0.642
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="2" style="text-align:right">
standard error reported in parentheses, <em>*p&lt;0.1;**p&lt;0.05;***p&lt;0.01</em>
</td>
</tr>
</table>
<div class="sourceCode" id="cb821"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb821-1"><a href="difference-in-differences.html#cb821-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(model1, model2,</span>
<span id="cb821-2"><a href="difference-in-differences.html#cb821-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">type =</span> <span class="st">&quot;html&quot;</span>,</span>
<span id="cb821-3"><a href="difference-in-differences.html#cb821-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">report=</span>(<span class="st">&#39;vc*t&#39;</span>),</span>
<span id="cb821-4"><a href="difference-in-differences.html#cb821-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">keep.stat =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>,<span class="st">&quot;rsq&quot;</span>,<span class="st">&quot;adj.rsq&quot;</span>),</span>
<span id="cb821-5"><a href="difference-in-differences.html#cb821-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">notes =</span> <span class="st">&quot;t-statistic reported for each coefficient, &lt;em&gt;&amp;#42;p&amp;lt;0.1;&amp;#42;&amp;#42;p&amp;lt;0.05;&amp;#42;&amp;#42;&amp;#42;p&amp;lt;0.01&lt;/em&gt;&quot;</span>,</span>
<span id="cb821-6"><a href="difference-in-differences.html#cb821-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">notes.append =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
rprice
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
near
</td>
<td>
-18,824.370<sup>***</sup>
</td>
<td>
9,964.964<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
t = -3.861
</td>
<td>
t = 2.568
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
y81
</td>
<td>
18,790.290<sup>***</sup>
</td>
<td>
15,210.440<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
t = 4.640
</td>
<td>
t = 5.455
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
y81near
</td>
<td>
-11,863.900
</td>
<td>
-15,020.680<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
t = -1.591
</td>
<td>
t = -2.986
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
age
</td>
<td>
</td>
<td>
-657.159<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
t = -5.095
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
agesq
</td>
<td>
</td>
<td>
3.083<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
t = 3.806
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
rooms
</td>
<td>
</td>
<td>
3,280.510<sup>*</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
t = 1.954
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
baths
</td>
<td>
</td>
<td>
7,489.360<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
t = 2.879
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
area
</td>
<td>
</td>
<td>
17.830<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
t = 7.658
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
land
</td>
<td>
</td>
<td>
0.116<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
t = 3.863
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
82,517.230<sup>***</sup>
</td>
<td>
2,189.081
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
t = 30.260
</td>
<td>
t = 0.210
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
321
</td>
<td>
321
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.174
</td>
<td>
0.652
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.166
</td>
<td>
0.642
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="2" style="text-align:right">
t-statistic reported for each coefficient, <em>*p&lt;0.1;**p&lt;0.05;***p&lt;0.01</em>
</td>
</tr>
</table>
<div class="sourceCode" id="cb822"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb822-1"><a href="difference-in-differences.html#cb822-1" aria-hidden="true" tabindex="-1"></a><span class="fu">stargazer</span>(model1, model2,</span>
<span id="cb822-2"><a href="difference-in-differences.html#cb822-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">type =</span> <span class="st">&quot;html&quot;</span>,</span>
<span id="cb822-3"><a href="difference-in-differences.html#cb822-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">ci =</span> <span class="cn">TRUE</span>,</span>
<span id="cb822-4"><a href="difference-in-differences.html#cb822-4" aria-hidden="true" tabindex="-1"></a>          <span class="at">ci.level =</span> <span class="fl">0.95</span>,</span>
<span id="cb822-5"><a href="difference-in-differences.html#cb822-5" aria-hidden="true" tabindex="-1"></a>          <span class="at">keep.stat =</span> <span class="fu">c</span>(<span class="st">&quot;n&quot;</span>,<span class="st">&quot;rsq&quot;</span>,<span class="st">&quot;adj.rsq&quot;</span>),</span>
<span id="cb822-6"><a href="difference-in-differences.html#cb822-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">notes =</span> <span class="st">&quot;95% confidence interval reported in parentheses, &lt;em&gt;&amp;#42;p&amp;lt;0.1;&amp;#42;&amp;#42;p&amp;lt;0.05;&amp;#42;&amp;#42;&amp;#42;p&amp;lt;0.01&lt;/em&gt;&quot;</span>,</span>
<span id="cb822-7"><a href="difference-in-differences.html#cb822-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">notes.append =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<table style="text-align:center">
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
<em>Dependent variable:</em>
</td>
</tr>
<tr>
<td>
</td>
<td colspan="2" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td colspan="2">
rprice
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(1)
</td>
<td>
(2)
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
near
</td>
<td>
-18,824.370<sup>***</sup>
</td>
<td>
9,964.964<sup>**</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(-28,379.830, -9,268.915)
</td>
<td>
(2,358.781, 17,571.150)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
y81
</td>
<td>
18,790.290<sup>***</sup>
</td>
<td>
15,210.440<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(10,852.300, 26,728.270)
</td>
<td>
(9,745.545, 20,675.350)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
y81near
</td>
<td>
-11,863.900
</td>
<td>
-15,020.680<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(-26,478.660, 2,750.855)
</td>
<td>
(-24,878.830, -5,162.541)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
age
</td>
<td>
</td>
<td>
-657.159<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(-909.960, -404.357)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
agesq
</td>
<td>
</td>
<td>
3.083<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(1.496, 4.670)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
rooms
</td>
<td>
</td>
<td>
3,280.510<sup>*</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(-9.419, 6,570.438)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
baths
</td>
<td>
</td>
<td>
7,489.360<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(2,390.634, 12,588.080)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
area
</td>
<td>
</td>
<td>
17.830<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(13.267, 22.393)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
land
</td>
<td>
</td>
<td>
0.116<sup>***</sup>
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
(0.057, 0.174)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td style="text-align:left">
Constant
</td>
<td>
82,517.230<sup>***</sup>
</td>
<td>
2,189.081
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
(77,172.580, 87,861.870)
</td>
<td>
(-18,273.310, 22,651.470)
</td>
</tr>
<tr>
<td style="text-align:left">
</td>
<td>
</td>
<td>
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
Observations
</td>
<td>
321
</td>
<td>
321
</td>
</tr>
<tr>
<td style="text-align:left">
R<sup>2</sup>
</td>
<td>
0.174
</td>
<td>
0.652
</td>
</tr>
<tr>
<td style="text-align:left">
Adjusted R<sup>2</sup>
</td>
<td>
0.166
</td>
<td>
0.642
</td>
</tr>
<tr>
<td colspan="3" style="border-bottom: 1px solid black">
</td>
</tr>
<tr>
<td style="text-align:left">
<em>Note:</em>
</td>
<td colspan="2" style="text-align:right">
95% confidence interval reported in parentheses, <em>*p&lt;0.1;**p&lt;0.05;***p&lt;0.01</em>
</td>
</tr>
</table>
</div>
<div id="additional-questions" class="section level2" number="18.5">
<h2><span class="header-section-number">18.5</span> Additional questions</h2>
<div id="question-1" class="section level3" number="18.5.1">
<h3><span class="header-section-number">18.5.1</span> Question 1</h3>
<p>Based on model 1, what effect did the garbage incinerator have on house prices for houses “near” (within 3 miles of) the incinerator? Is this effect statistically significant?</p>
<div class="textSoln">
<hr />
<p><strong>Solution:</strong></p>
<p>Based on this regression, the incinerator decreased prices by $11863.90, on average. It is not statistically significant at any standard level of significance (based on the p-value of 0.113).</p>
<hr />
</div>
</div>
<div id="question-2" class="section level3" number="18.5.2">
<h3><span class="header-section-number">18.5.2</span> Question 2</h3>
<p>Here is how you can easily report the confidence intervals for <code>model1</code> for the 3 standard (i.e., commonly used/reported) levels of significance:</p>
<div class="sourceCode" id="cb823"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb823-1"><a href="difference-in-differences.html#cb823-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pander</span>(<span class="fu">confint</span>(model1,<span class="at">level =</span> <span class="fl">0.99</span>))</span></code></pre></div>
<table style="width:50%;">
<colgroup>
<col width="25%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">0.5 %</th>
<th align="center">99.5 %</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>(Intercept)</strong></td>
<td align="center">75451</td>
<td align="center">89584</td>
</tr>
<tr class="even">
<td align="center"><strong>near</strong></td>
<td align="center">-31458</td>
<td align="center">-6190</td>
</tr>
<tr class="odd">
<td align="center"><strong>y81</strong></td>
<td align="center">8295</td>
<td align="center">29286</td>
</tr>
<tr class="even">
<td align="center"><strong>y81near</strong></td>
<td align="center">-31187</td>
<td align="center">7459</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb824"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb824-1"><a href="difference-in-differences.html#cb824-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pander</span>(<span class="fu">confint</span>(model1,<span class="at">level =</span> <span class="fl">0.95</span>))</span></code></pre></div>
<table style="width:50%;">
<colgroup>
<col width="25%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">2.5 %</th>
<th align="center">97.5 %</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>(Intercept)</strong></td>
<td align="center">77152</td>
<td align="center">87882</td>
</tr>
<tr class="even">
<td align="center"><strong>near</strong></td>
<td align="center">-28416</td>
<td align="center">-9232</td>
</tr>
<tr class="odd">
<td align="center"><strong>y81</strong></td>
<td align="center">10822</td>
<td align="center">26759</td>
</tr>
<tr class="even">
<td align="center"><strong>y81near</strong></td>
<td align="center">-26535</td>
<td align="center">2807</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb825"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb825-1"><a href="difference-in-differences.html#cb825-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pander</span>(<span class="fu">confint</span>(model1,<span class="at">level =</span> <span class="fl">0.90</span>))</span></code></pre></div>
<table style="width:50%;">
<colgroup>
<col width="25%" />
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">5 %</th>
<th align="center">95 %</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>(Intercept)</strong></td>
<td align="center">78019</td>
<td align="center">87016</td>
</tr>
<tr class="even">
<td align="center"><strong>near</strong></td>
<td align="center">-26867</td>
<td align="center">-10782</td>
</tr>
<tr class="odd">
<td align="center"><strong>y81</strong></td>
<td align="center">12109</td>
<td align="center">25472</td>
</tr>
<tr class="even">
<td align="center"><strong>y81near</strong></td>
<td align="center">-24165</td>
<td align="center">437.1</td>
</tr>
</tbody>
</table>
<p>To reach the same conclusion about statistical significance of the effect of the garbage incinerator as your answer to the previous question (for which you looked at the p-value), what level confidence interval do we need to look at? Why?</p>
<div class="textSoln">
<hr />
<p><strong>Solution:</strong></p>
<p>In the previous question, we concluded that the effect of the garbage incinerator (-11864) is not statistically significant at any standard level. We reached this conclusion because the p-value (0.113) is larger than 0.10. When the p-value is larger than 0.10, that implies that the 90% confidence interval will contain 0. Any time the 90% confidence interval contains 0, we know for sure that the 95% and 99% confidence intervals must also contain 0 (just as we know that when a p-value is larger than 0.10, it obviously must also be larger than 0.05 and 0.01). So, to conclude that a coefficient is not statistically significant at any standard level, you need to look at the 90% confidence interval and see if it includes 0. If the 90% confidence interval includes 0, that means we fail to reject that the coefficient might be 0 at the 10% level (which means we also fail to reject at 5% and 1%, and thus, at any standard level).</p>
<hr />
</div>
</div>
<div id="question-3" class="section level3" number="18.5.3">
<h3><span class="header-section-number">18.5.3</span> Question 3</h3>
<p>Now look at the second model. Based on <code>model2</code>, what effect did the garbage incinerator have on house prices for houses “near” (within 3 miles of) the incinerator? Is this effect statistically significant?</p>
<div class="textSoln">
<hr />
<p><strong>Solution:</strong></p>
<p>Based on this regression, the incinerator decreased prices by $15,020.68, on average, holding constant characteristics of the house (number of rooms and bathrooms, size, land, and a quadratic in age). It is statistically significant at the 1% level (based on the p-value of 0.003).</p>
<hr />
</div>
</div>
<div id="question-4" class="section level3" number="18.5.4">
<h3><span class="header-section-number">18.5.4</span> Question 4</h3>
<p>Calculate the confidence interval needed to reach the same conclusion about statistical significance of the effect of the garbage incinerator as your answer to the previous question (for which you looked at the p-value)? Explain why this is the level you need to look at to reach that conclusion.</p>
<div class="textSoln">
<hr />
<p><strong>Solution:</strong></p>
<p>In the previous question, we concluded that the effect of the garbage incinerator (-15021) is statistically significant at the 1% level. We reached this conclusion because the p-value (0.003) is smaller than 0.01. If we calculate the 99% confidence interval, it will not contain zero. Thus, it’s less than 1% likely that the true coefficient is 0, so we can reject at the 1% level that the true coefficient is 0. The 95% and 90% confidence intervals will be narrower, and further away from 0, so they won’t contain 0 either. But to conclude that the coefficient is statistically significant at the 1% level, we need to look at the 99% confidence interval. As expected, it doesn’t include 0:</p>
<div class="sourceCode" id="cb826"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb826-1"><a href="difference-in-differences.html#cb826-1" aria-hidden="true" tabindex="-1"></a><span class="fu">pander</span>(<span class="fu">confint</span>(model2), <span class="at">level=</span><span class="fl">0.99</span>)</span></code></pre></div>
<table style="width:53%;">
<colgroup>
<col width="25%" />
<col width="13%" />
<col width="13%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"> </th>
<th align="center">2.5 %</th>
<th align="center">97.5 %</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center"><strong>(Intercept)</strong></td>
<td align="center">-18353</td>
<td align="center">22731</td>
</tr>
<tr class="even">
<td align="center"><strong>near</strong></td>
<td align="center">2329</td>
<td align="center">17601</td>
</tr>
<tr class="odd">
<td align="center"><strong>y81</strong></td>
<td align="center">9724</td>
<td align="center">20697</td>
</tr>
<tr class="even">
<td align="center"><strong>y81near</strong></td>
<td align="center">-24917</td>
<td align="center">-5124</td>
</tr>
<tr class="odd">
<td align="center"><strong>age</strong></td>
<td align="center">-910.9</td>
<td align="center">-403.4</td>
</tr>
<tr class="even">
<td align="center"><strong>agesq</strong></td>
<td align="center">1.489</td>
<td align="center">4.677</td>
</tr>
<tr class="odd">
<td align="center"><strong>rooms</strong></td>
<td align="center">-22.27</td>
<td align="center">6583</td>
</tr>
<tr class="even">
<td align="center"><strong>baths</strong></td>
<td align="center">2371</td>
<td align="center">12608</td>
</tr>
<tr class="odd">
<td align="center"><strong>area</strong></td>
<td align="center">13.25</td>
<td align="center">22.41</td>
</tr>
<tr class="even">
<td align="center"><strong>land</strong></td>
<td align="center">0.05672</td>
<td align="center">0.1745</td>
</tr>
</tbody>
</table>
<div class="sourceCode" id="cb827"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb827-1"><a href="difference-in-differences.html#cb827-1" aria-hidden="true" tabindex="-1"></a><span class="do">## if we only want the confidence interval for y81near, we can do this:  </span></span>
<span id="cb827-2"><a href="difference-in-differences.html#cb827-2" aria-hidden="true" tabindex="-1"></a><span class="fu">pander</span>(<span class="fu">confint</span>(model2)[<span class="st">&quot;y81near&quot;</span>,], <span class="at">level=</span><span class="fl">0.99</span>)</span></code></pre></div>
<table style="width:25%;">
<colgroup>
<col width="12%" />
<col width="12%" />
</colgroup>
<thead>
<tr class="header">
<th align="center">2.5 %</th>
<th align="center">97.5 %</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="center">-24917</td>
<td align="center">-5124</td>
</tr>
</tbody>
</table>
<hr />
</div>
</div>
</div>
<div id="polynomials" class="section level2" number="18.6">
<h2><span class="header-section-number">18.6</span> Polynomials</h2>
<p>For this part I’ve left in all the code, so there’s nothing you have to do here other than comment out the code I give you. However, I suggest you go through the code and experiment a bit until you understand what’s going on with polynomial models.</p>
<p>In model 2 you included a second order polynomial in age (i.e., you included age and age squared). What this allows for is the regression line to have a parabolic shape instead of being a straight line. To see an example of this, consider the following two models, the first that only includes age and the second that includes age and age squared.</p>
<div class="sourceCode" id="cb828"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb828-1"><a href="difference-in-differences.html#cb828-1" aria-hidden="true" tabindex="-1"></a>mydata<span class="sc">$</span>agesq <span class="ot">&lt;-</span> mydata<span class="sc">$</span>age<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb828-2"><a href="difference-in-differences.html#cb828-2" aria-hidden="true" tabindex="-1"></a>modelAge <span class="ot">&lt;-</span> <span class="fu">lm</span>(rprice<span class="sc">~</span>age,<span class="at">data=</span>mydata)</span>
<span id="cb828-3"><a href="difference-in-differences.html#cb828-3" aria-hidden="true" tabindex="-1"></a>mydata<span class="sc">$</span>yHatAge <span class="ot">&lt;-</span> <span class="fu">fitted</span>(modelAge)</span>
<span id="cb828-4"><a href="difference-in-differences.html#cb828-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb828-5"><a href="difference-in-differences.html#cb828-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb828-6"><a href="difference-in-differences.html#cb828-6" aria-hidden="true" tabindex="-1"></a>modelAge2 <span class="ot">&lt;-</span> <span class="fu">lm</span>(rprice<span class="sc">~</span>age<span class="sc">+</span>agesq,<span class="at">data=</span>mydata)</span>
<span id="cb828-7"><a href="difference-in-differences.html#cb828-7" aria-hidden="true" tabindex="-1"></a>mydata<span class="sc">$</span>yHatAge2 <span class="ot">&lt;-</span> <span class="fu">fitted</span>(modelAge2)</span>
<span id="cb828-8"><a href="difference-in-differences.html#cb828-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb828-9"><a href="difference-in-differences.html#cb828-9" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>mydata,<span class="fu">aes</span>(<span class="at">y=</span>rprice,<span class="at">x=</span>age)) <span class="sc">+</span></span>
<span id="cb828-10"><a href="difference-in-differences.html#cb828-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb828-11"><a href="difference-in-differences.html#cb828-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>yHatAge,<span class="at">x=</span>age),<span class="at">color=</span><span class="st">&quot;blue&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)  <span class="sc">+</span></span>
<span id="cb828-12"><a href="difference-in-differences.html#cb828-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y=</span>yHatAge,<span class="at">x=</span>age),<span class="at">color=</span><span class="st">&quot;blue&quot;</span>) <span class="sc">+</span></span>
<span id="cb828-13"><a href="difference-in-differences.html#cb828-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>yHatAge2,<span class="at">x=</span>age),<span class="at">color=</span><span class="st">&quot;green&quot;</span>,<span class="at">size=</span><span class="dv">2</span>)  <span class="sc">+</span></span>
<span id="cb828-14"><a href="difference-in-differences.html#cb828-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y=</span>yHatAge2,<span class="at">x=</span>age),<span class="at">color=</span><span class="st">&quot;green&quot;</span>)</span></code></pre></div>
<p><img src="18-Difference-in-Differences_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
<p>To see a slightly more complete model, also including <code>near</code>, <code>y81</code>, and <code>y81near</code>. Let’s define a factor variable that will indicate the four groups by color. We’ll first display the graph for the model that only includes <code>age</code> (plus <code>near</code>, <code>y81</code>, and <code>y81near</code>). Then we’ll display the graph for the model that also includes age squared.</p>
<div class="sourceCode" id="cb829"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb829-1"><a href="difference-in-differences.html#cb829-1" aria-hidden="true" tabindex="-1"></a>mydata<span class="sc">$</span>group <span class="ot">&lt;-</span> <span class="fu">ifelse</span>(mydata<span class="sc">$</span>near<span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> mydata<span class="sc">$</span>year<span class="sc">==</span><span class="dv">1978</span>,<span class="st">&quot;y78far&quot;</span>,</span>
<span id="cb829-2"><a href="difference-in-differences.html#cb829-2" aria-hidden="true" tabindex="-1"></a>                       <span class="fu">ifelse</span>(mydata<span class="sc">$</span>near<span class="sc">==</span><span class="dv">1</span> <span class="sc">&amp;</span> mydata<span class="sc">$</span>year<span class="sc">==</span><span class="dv">1978</span>,<span class="st">&quot;y78near&quot;</span>,</span>
<span id="cb829-3"><a href="difference-in-differences.html#cb829-3" aria-hidden="true" tabindex="-1"></a>                              <span class="fu">ifelse</span>(mydata<span class="sc">$</span>near<span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> mydata<span class="sc">$</span>year<span class="sc">==</span><span class="dv">1981</span>,<span class="st">&quot;y81far&quot;</span>,</span>
<span id="cb829-4"><a href="difference-in-differences.html#cb829-4" aria-hidden="true" tabindex="-1"></a>                                     <span class="st">&quot;y81near&quot;</span></span>
<span id="cb829-5"><a href="difference-in-differences.html#cb829-5" aria-hidden="true" tabindex="-1"></a>                       )))</span>
<span id="cb829-6"><a href="difference-in-differences.html#cb829-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb829-7"><a href="difference-in-differences.html#cb829-7" aria-hidden="true" tabindex="-1"></a>modelAgeWithGroups <span class="ot">&lt;-</span> <span class="fu">lm</span>(rprice<span class="sc">~</span>age<span class="sc">+</span>near<span class="sc">+</span>y81<span class="sc">+</span>y81near,<span class="at">data=</span>mydata)</span>
<span id="cb829-8"><a href="difference-in-differences.html#cb829-8" aria-hidden="true" tabindex="-1"></a>mydata<span class="sc">$</span>yHatAgeWithGroups <span class="ot">&lt;-</span> <span class="fu">fitted</span>(modelAgeWithGroups)</span>
<span id="cb829-9"><a href="difference-in-differences.html#cb829-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb829-10"><a href="difference-in-differences.html#cb829-10" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>mydata,<span class="fu">aes</span>(<span class="at">y=</span>rprice,<span class="at">x=</span>age,<span class="at">color=</span>group)) <span class="sc">+</span></span>
<span id="cb829-11"><a href="difference-in-differences.html#cb829-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb829-12"><a href="difference-in-differences.html#cb829-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>yHatAgeWithGroups,<span class="at">x=</span>age,<span class="at">color=</span>group),<span class="at">size=</span><span class="dv">2</span>)  <span class="sc">+</span></span>
<span id="cb829-13"><a href="difference-in-differences.html#cb829-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y=</span>yHatAgeWithGroups,<span class="at">x=</span>age,<span class="at">color=</span>group))</span></code></pre></div>
<p><img src="18-Difference-in-Differences_files/figure-html/unnamed-chunk-11-1.png" width="672" /></p>
<div class="sourceCode" id="cb830"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb830-1"><a href="difference-in-differences.html#cb830-1" aria-hidden="true" tabindex="-1"></a>modelAge2WithGroups <span class="ot">&lt;-</span> <span class="fu">lm</span>(rprice<span class="sc">~</span>age<span class="sc">+</span>agesq<span class="sc">+</span>near<span class="sc">+</span>y81<span class="sc">+</span>y81near,<span class="at">data=</span>mydata)</span>
<span id="cb830-2"><a href="difference-in-differences.html#cb830-2" aria-hidden="true" tabindex="-1"></a>mydata<span class="sc">$</span>yHatAge2WithGroups <span class="ot">&lt;-</span> <span class="fu">fitted</span>(modelAge2WithGroups)</span>
<span id="cb830-3"><a href="difference-in-differences.html#cb830-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb830-4"><a href="difference-in-differences.html#cb830-4" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data=</span>mydata,<span class="fu">aes</span>(<span class="at">y=</span>rprice,<span class="at">x=</span>age,<span class="at">color=</span>group)) <span class="sc">+</span></span>
<span id="cb830-5"><a href="difference-in-differences.html#cb830-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="at">shape=</span><span class="dv">4</span>) <span class="sc">+</span></span>
<span id="cb830-6"><a href="difference-in-differences.html#cb830-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_point</span>(<span class="fu">aes</span>(<span class="at">y=</span>yHatAge2WithGroups,<span class="at">x=</span>age,<span class="at">color=</span>group),<span class="at">size=</span><span class="dv">2</span>)  <span class="sc">+</span></span>
<span id="cb830-7"><a href="difference-in-differences.html#cb830-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>(<span class="fu">aes</span>(<span class="at">y=</span>yHatAge2WithGroups,<span class="at">x=</span>age,<span class="at">color=</span>group))</span></code></pre></div>
<p><img src="18-Difference-in-Differences_files/figure-html/unnamed-chunk-11-2.png" width="672" /></p>
<p>What you see in the polynomial graphs is that include age squared allows for a nonlinear relationship. Here, initially house price goes down as the house gets older. However, after about 100 years, older houses start to sell for more. This makes sense. Initially getting older is bad because older houses are more likely to have problems, require repairs, etc. But a hundred+ year old house is probably a pretty nice house if it’s survived that long, it might be considered “historic,” etc. We can’t possibly capture that relationship unless we specify our model in a way that allows for a nonlinear relationship. Sometimes you will also see a cubic term. That allows for three turns in the relationship (down, up, down, or up, down, up).</p>
<p>Note that in the final graph, the only reason the lines overlap is because ggplot simply connects the dots. If there were more points the bottom wouldn’t be flat and the lines wouldn’t cross.</p>

</div>
</div>








            </section>

          </div>
        </div>
      </div>
<a href="fixed-effects.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/alecng27/R_Programming_Guidebook/edit/master/18-Difference-in-Differences.Rmd",
"text": "Edit"
},
"history": {
"link": "https://github.com/alecng27/R_Programming_Guidebook/commits/master/18-Difference-in-Differences.Rmd",
"text": null
},
"view": {
"link": "https://github.com/alecng27/R_Programming_Guidebook/blob/master/18-Difference-in-Differences.Rmd",
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
